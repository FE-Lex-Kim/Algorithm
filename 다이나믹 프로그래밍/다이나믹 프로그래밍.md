# 다이나믹 프로그래밍

<br>

다이나믹 프로그래밍은 **메모리를 적절히 사용하여 수행 시간 효율성을 비약적으로 향상시키는 방법이다.**

<br>

이미 계산된 결과(작은 문제)는 별도의 메모리 영역에 저장(dp)하여 다시 계산하지 않도록 한다.

<br>

다이나믹 프로그래밍의 일반적으로 두가지 방식 **탑다운, 보텀업**으로 구성된다.

<br>

## 다이나믹 프로그래밍의 조건

다이나믹 프로그래밍은 문제가 다음의 조건을 만족할 때 사용할 수 있다.

<br>

### 1. 최적 부분 구조

- 큰 문제를 작은 문제로 나눌 수 있으며 작은 문제의 답을 모아서 큰 문제를 해결할 수 있다.

<br>

### 2. **중복되는 부분 문제**

- 부분문제가 중첩되서 여러번 등장한다는 의미이다.
- 어떠한 문제를 풀때 동일한 문제를 반복적으로 해결해야 할때

<br>

## 대표적인 문제

<br>

### 피보나치 수열

피보나치 수열은 다이나믹 프로그래밍으로 효과적으로 계산할 수 있다.

1, 1, 2, 3, 5, 8, 13, 21, 34...

<br>

수열이란 , 수 또는 다른 대상의 순서있는 나열이다.

<br>

**점화식이란 인접한 항들 사이의 관계식을 의미한다.**

<br>

피보나치 수열을 점화식으로 표현하면 다음과 같다

a(n) = a(n-1) + a(n-2), a1 = 1, a2 = 1

<br>

**f(4)를 구하는 과정**

![다이나믹 프로그래밍](../images/다이나믹%20프로그래밍/다이나믹%20프로그래밍-1.png)

이미지 출처: [https://www.youtube.com/watch?v=5Lu34WIx2Us&list=PLRx0vPvlEmdAghTr5mXQxGpHjWqSz0dgC&index=6](https://www.youtube.com/watch?v=5Lu34WIx2Us&list=PLRx0vPvlEmdAghTr5mXQxGpHjWqSz0dgC&index=6)

<br>

재귀함수가 무한루프를 돌지않고 특정 지점에서 멈출 수 있도록 구현하는것이 일반적이다.

<br>

**피보나치 수열 구현 코드**

```jsx
const fibo = (n) => {
  if (n === 1 || n === 2) {
    return 1;
  }

  return fibo(n - 1) + fibo(n - 2);
};

console.log(fibo(10));
```

a(n) = a(n-1) + a(n-2),

a1 = 1, a2 = 1

피보나치 수열에서 점화식의 `a(n) = a(n-1) + a(n-2)` 이 부분이 재귀적으로 호출되는 부분이며, `a1 = 1, a2 = 1` 이 부분은 재귀함수의 종료조건이라고 할 수 있다.

<br>

![다이나믹 프로그래밍](../images/다이나믹%20프로그래밍/다이나믹%20프로그래밍-2.png)

이미지 출처: [https://www.youtube.com/watch?v=5Lu34WIx2Us&list=PLRx0vPvlEmdAghTr5mXQxGpHjWqSz0dgC&index=6](https://www.youtube.com/watch?v=5Lu34WIx2Us&list=PLRx0vPvlEmdAghTr5mXQxGpHjWqSz0dgC&index=6)

<br>

- 단순 재귀 함수로 피보나치 수열을 해결하면 **중복되는 부분문제가 있다.**
- 중복되는 부분문제를 계속해서 해결하게되고 수행시간 측면에서 비효율적이라고 할 수 있다.

<br>

### 피보나치 수열의 효율적인 해결방법

- 다이나믹 프로그래밍의 사용 조건을 만족하는지 확인한다.
  1. **최적 부분 구조**: 큰 문제를 작은 문제로 나눌 수 있다.
  2. **중복되는 부분 문제**: 동일한 작은 문제를 반복적으로 해결한다.
- 위의 조건을 만족하여 다이나믹 프로그래밍으로 해결할 수 있다.

<br>

## 메모이제이션

- 메모이제이션은 다이나믹 프로그래밍을 구현하는 방법중 하나이다.
- **한 번 계산한 결과를 메모리 공간(배열,dp,d)에 메모**하는 기법이다.
  - 같은 문제를 다시 호출하면 메모했던 결과를 그대로 가져온다.

<br>

## 탑다운 VS 바텀업

**탑다운(메모이제이션) 방식은 하향식이라고 한다**

- 구현 과정에서 재귀함수를 이용한다.
- 즉, 큰 문제를 해결 하기위해서 작은문제를 **재귀적으로 해결하여**
- 작은문제를 모두 해결했을때 실제로 큰문제에 대한 답까지 얻을 수 있도록 코드를 작성하고 그 과정에서 한번 계산된 결과를 기록 하기위해 메모이제이션 방식을 이용한다.

**바텀업 방식은 상향식 이라고 한다.**

- 아래쪽에서 부터 작은문제를 하나씩 해결해 나가면서 **먼저 계산한 문제들의 값을 활용해서 그 다음의 문제까지 차례대로 해결하는 방식이 특징이다.**
- 그래서 바텀업 방색을 구현할때 **반복문을 활용한다.**

<br>

**다이나믹 프로그래밍의 전형적인 형태는 바텀업 방식이다.**

- 결과 저장용 배열은 DP테이블 이라고 부른다.

<br>

### 탑다운 방식 코드

```jsx
// 탑다운 방식
let dp = Array.from({ length: 100 }, () => 0);

const fibo = (n) => {
  // 재귀함수 종료식
  if (n === 1 || n === 2) {
    return 1;
  }

  // 이미 계산한적 있는 문제라면
  if (dp[n] !== 0) {
    return dp[n];
  }

  dp[n] = fibo(n - 1) + fibo(n - 2);
  return dp[n];
};

console.log(fibo(99));
```

<br>

### 바텀업 방식 코드

```jsx
// 바텀업 방식
let dp = Array.from({ length: 100 }, () => 0);

// 첫 번째 피보나치 수와 두 번째 피보나치 수는 1
dp[1] = 1;
dp[2] = 1;

const n = 99;

// 피보나치 함수를 반복문으로 구현할 수 있다.
for (let i = 3; i < n + 1; i++) {
  dp[i] = dp[i - 1] + dp[i - 2];
}

console.log(dp[99]); // 218922995834555200000
```

![다이나믹 프로그래밍](../images/다이나믹%20프로그래밍/다이나믹%20프로그래밍-3.png)

이미지 출처:[https://www.youtube.com/watch?v=5Lu34WIx2Us&list=PLRx0vPvlEmdAghTr5mXQxGpHjWqSz0dgC&index=6](https://www.youtube.com/watch?v=5Lu34WIx2Us&list=PLRx0vPvlEmdAghTr5mXQxGpHjWqSz0dgC&index=6)

<br>

- 이미 계산된 결과를 메모리에 저장하면 색칠된 노드만 처리할 것을 기대할 수 있다.

<br>

피보나치수열의 시간 복잡도는 O(N)이 된다.

<br>

## 다이나믹 프로그래밍 문제에 접근하는 방법

- 주어진 문제가 **다이나믹 프로그래밍 유형임을 파악**하는 것이 중요하다.
- 가장 먼저 그리디, 구현, 완전 탐색 등의 아이디어로 문제를 해결할 수 있는지 확인해야한다.
  - 다른 알고리즘으로 풀이 방법이 떠오르지 않으면 다이나믹 프로그래밍을 고려해 보아야한다.
- 일단 재귀 함수로 비효율적인 완전 탐색 프로그램을 작성한 뒤에 작은 문제에서 구한답이 큰 문제에서 그대로 사용될 수 있다면, 메모이제이션 기법을 추가하여 한번 계산된 결과가 별도의 배열에 담기도록하여 코드를 개선시키는 방법을 사용할 수 있다.
- 일반적으로 코딩테스트에서 다이나믹 프로그래밍 문제는 기본유형이 출제되는 경우가 많다.
  - 그 이유는 다이나믹 프로그래밍 문제는 그 문제에 맞는 점화식을 떠올리는 과정에서 많은 시간이 소요되기 때문에 그자리에서 문제를 해결 해야할때는 기존에 많이 나오는 다이나믹 프로그래밍 문제가 나온다.

<br>

참고

- [https://www.youtube.com/watch?v=5Lu34WIx2Us&list=PLRx0vPvlEmdAghTr5mXQxGpHjWqSz0dgC&index=6](https://www.youtube.com/watch?v=5Lu34WIx2Us&list=PLRx0vPvlEmdAghTr5mXQxGpHjWqSz0dgC&index=6)
- 이것이 취업을 위한 코딩 테스트다
